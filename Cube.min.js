class Cube{constructor(t,e){this.parent=t instanceof Element?t:document.querySelector(t),this._parameters={ratio:2,...e},this._build(),this._listen()}_build(){this.parent.classList.add("css3-cube-wrapper"),this.parent.innerHTML='\n\t\t\t<div class="css3-cube" style="transform: translateZ(-50px) rotateX(0deg) rotateY(0deg);">\n\t\t\t\t<header class="cube-face" data-face="top"></header>\n\t\t\t\t<section class="cube-face" data-face="front"></section>\n\t\t\t\t<aside class="cube-face" data-face="right"></aside>\n\t\t\t\t<section class="cube-face" data-face="back"></section>\n\t\t\t\t<aside class="cube-face" data-face="left"></aside>\n\t\t\t\t<footer class="cube-face" data-face="bottom"></footer>\n\t\t\t</div>\n\t\t',this.element=this.parent.firstElementChild}_listen(){const t={x:0,y:0},e={x:0,y:0};let a=!1;const s=s=>{a=!0,t.x=s.pageX,t.y=s.pageY,e.x=+this.element.style.transform.replace(/^.*rotateX\((-?\d+)deg\).*$/u,"$1"),e.y=+this.element.style.transform.replace(/^.*rotateY\((-?\d+)deg\).*$/u,"$1"),console.log(e)};this.parent.addEventListener("mousedown",s),this.parent.addEventListener("dragstart",s);const n=s=>{if(a){const a={x:(s.pageX-t.x)*this._parameters.ratio,y:(s.pageY-t.y)*this._parameters.ratio};this.element.style.transform=`translateZ(-50px) rotateX(${e.x-a.y}deg) rotateY(${e.y+a.x}deg)`}};document.addEventListener("mousemove",n),document.addEventListener("dragover",n);const r=()=>{a=!1};this.element.addEventListener("dragend",r),window.addEventListener("mouseup",r),window.addEventListener("mouseout",t=>{null===t.relatedTarget&&(a=!1)})}}